@* Shared footer component for both public and authenticated layouts *@
@inject IVersionService VersionService

<footer class="chronicis-footer">
    <div class="chronicis-footer-content">
        <div class="chronicis-footer-brand">
            <img src="/images/logo.png" alt="Chronicis" />
            <span>Chronicis</span>
        </div>
        <nav class="chronicis-footer-nav">
            <a href="/">Home</a>
            <a href="/about">About</a>
            <a href="/change-log">Change Log</a>
            <a href="/privacy">Privacy Policy</a>
            <a href="/terms-of-service">Terms of Service</a>
            <a href="/licenses">Licenses</a>
        </nav>
        <p class="chronicis-footer-copy">
            Â© @DateTime.Now.Year Chronicis. Made by <i class="fa-solid fa-person"></i> and <i class="fa-solid fa-robot"></i> for people who <i class="fa-solid fa-heart"></i> <i class="fa-solid fa-dice-d20"></i>.
        </p>
        @if (!string.IsNullOrEmpty(_version))
        {
            <span class="footer-version" title="Build @_sha">v@(_version)</span>
        }
    </div>
</footer>

@code {
    private string _version = string.Empty;
    private string _sha = string.Empty;

    protected override async Task OnInitializedAsync()
    {
        var info = await VersionService.GetBuildInfoAsync();
        _version = info.Version;
        _sha = info.Sha;
    }
}

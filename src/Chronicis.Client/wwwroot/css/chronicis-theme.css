/* ============================================
   Chronicis Custom MudBlazor Theme
   Based on Chronicis Style Guide v1.0
   
   This is the SINGLE SOURCE OF TRUTH for:
   - CSS Custom Properties (variables)
   - Global scrollbar styles
   - Animation keyframes
   - MudBlazor component overrides
   ============================================ */

/* ============================================
   CSS Custom Properties
   
   Naming aligned with MudBlazor theme semantics:
   - Primary: Main action color (buttons, links) - slate-grey
   - Secondary: Accent/decorative color - beige-gold
   ============================================ */

:root {
    /* Primary & Secondary (aligned with MudBlazor theme) */
    --chronicis-primary: #3A4750;            /* Slate-grey - buttons, actions, links */
    --chronicis-secondary: #C4AF8E;          /* Beige-gold - accents, decorative elements */
    --chronicis-secondary-muted: #D9C9A7;    /* Lighter beige-gold for subtle accents */
    
    /* Backgrounds */
    --chronicis-background-dark: #1F2A33;    /* Appbar, drawer, dark surfaces */
    --chronicis-background-light: #F4F0EA;   /* Page background, light surfaces */
    --chronicis-background-content: #cabda3; /* Main content area background */
    --chronicis-surface: #FFFFFF;            /* Cards, papers, elevated surfaces */
    
    /* Text */
    --chronicis-text-primary: #1A1A1A;       /* Main body text on light backgrounds */
    --chronicis-text-on-dark: #F4F0EA;       /* Text on dark backgrounds */
    
    /* Semantic Colors (status/feedback) */
    --chronicis-success: #4CAF50;
    --chronicis-warning: #FFA726;
    --chronicis-error: #ad1412ff;
    --chronicis-info: #29B6F6;
    
    /* Typography */
    --chronicis-font-heading: 'Libre Baskerville', Georgia, serif;
    --chronicis-font-body: 'Roboto', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    
    /* Spacing */
    --chronicis-space-xs: 4px;
    --chronicis-space-sm: 8px;
    --chronicis-space-md: 16px;
    --chronicis-space-lg: 24px;
    --chronicis-space-xl: 32px;
    
    /* Shadows */
    --chronicis-shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.1);
    --chronicis-shadow-md: 0 4px 8px rgba(0, 0, 0, 0.15);
    --chronicis-shadow-lg: 0 8px 16px rgba(0, 0, 0, 0.2);
    --chronicis-glow-secondary: 0 0 12px rgba(196, 175, 142, 0.4);
    
    /* Border Radius */
    --chronicis-radius-sm: 4px;
    --chronicis-radius-md: 6px;
    --chronicis-radius-lg: 8px;
    --chronicis-radius-xl: 12px;
    
    /* Transitions */
    --chronicis-transition-fast: 150ms ease-in-out;
    --chronicis-transition-normal: 250ms ease-in-out;
    --chronicis-transition-slow: 400ms ease-in-out;
}

/* ============================================
   Global Animation Keyframes
   ============================================ */

@keyframes chronicis-fade-in {
    from {
        opacity: 0;
        transform: translateY(8px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes chronicis-fade-in-down {
    from {
        opacity: 0;
        transform: translateY(-20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes chronicis-fade-in-up {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes chronicis-slide-in-right {
    from {
        opacity: 0;
        transform: translateX(-16px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

@keyframes chronicis-pulse {
    0%, 100% {
        opacity: 0.6;
        transform: scale(1);
    }
    50% {
        opacity: 1;
        transform: scale(1.05);
    }
}

@keyframes chronicis-shimmer {
    0% {
        background-position: 200% 0;
    }
    100% {
        background-position: -200% 0;
    }
}

@keyframes chronicis-expand {
    from {
        opacity: 0;
        transform: translateY(-4px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes chronicis-glow-pulse {
    0% {
        transform: translate(0, 0) rotate(0deg);
    }
    100% {
        transform: translate(50px, 50px) rotate(360deg);
    }
}

@keyframes chronicis-tooltip-fade-in {
    from {
        opacity: 0;
        transform: translateY(-4px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* ============================================
   Global Scrollbar Styles
   ============================================ */

::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

::-webkit-scrollbar-track {
    background: var(--chronicis-background-dark);
}

::-webkit-scrollbar-thumb {
    background: var(--chronicis-primary);
    border-radius: var(--chronicis-radius-sm);
}

::-webkit-scrollbar-thumb:hover {
    background: var(--chronicis-secondary);
}

/* Light background scrollbar variant */
.chronicis-scrollbar-light::-webkit-scrollbar-track {
    background: rgba(58, 71, 80, 0.05);
}

.chronicis-scrollbar-light::-webkit-scrollbar-thumb {
    background: rgba(196, 175, 142, 0.5);
}

.chronicis-scrollbar-light::-webkit-scrollbar-thumb:hover {
    background: var(--chronicis-secondary);
}

/* ============================================
   Global MudBlazor Overrides
   
   Note: MudBlazor Primary = slate-grey (#3A4750) for buttons/actions
         MudBlazor Secondary = beige-gold (#C4AF8E) for accents/decorative
   ============================================ */

.mud-input-outlined-border {
    border-color: var(--chronicis-primary) !important;
}

/* AppBar */
.mud-appbar {
    background-color: var(--chronicis-background-dark) !important;
    box-shadow: var(--chronicis-shadow-md);
}

.mud-appbar .mud-toolbar {
    padding: 0 var(--chronicis-space-lg);
}

/* Drawer */
.mud-drawer {
    background-color: var(--chronicis-background-dark) !important;
    border-right: 1px solid var(--chronicis-primary);
}

.mud-drawer-paper {
    background-color: var(--chronicis-background-dark) !important;
}

.mud-drawer-content {
    background-color: var(--chronicis-background-dark);
}

/* Main Content */
.mud-main-content {
    background-color: var(--chronicis-background-content);
    min-height: 100vh;
}

/* Cards & Paper */
.mud-paper {
    background-color: var(--chronicis-background-light) !important;
    border-radius: var(--chronicis-radius-lg);
    box-shadow: var(--chronicis-shadow-sm);
    transition: box-shadow var(--chronicis-transition-normal);
}

.mud-paper:hover {
    box-shadow: var(--chronicis-shadow-md);
}

/* Buttons - let MudBlazor theme handle colors, just add styling touches */
.mud-button-root {
    border-radius: var(--chronicis-radius-md);
    transition: all var(--chronicis-transition-fast);
    text-transform: none;
    font-weight: 500;
}

/* Primary buttons use slate-grey from theme - just add hover enhancement */
.mud-button-filled.mud-button-filled-primary:hover {
    filter: brightness(1.1);
}

.mud-button-outlined.mud-button-outlined-primary:hover {
    background-color: rgba(58, 71, 80, 0.08);
}

/* Secondary buttons use beige-gold - enhance with glow on hover */
.mud-button-filled.mud-button-filled-secondary:hover {
    box-shadow: var(--chronicis-glow-secondary);
}

.mud-button-outlined.mud-button-outlined-secondary:hover {
    background-color: rgba(196, 175, 142, 0.08);
    box-shadow: var(--chronicis-glow-secondary);
}

/* Inputs */
.mud-input-root {
    background-color: rgba(255, 255, 255, 0.05);
    border-radius: var(--chronicis-radius-md);
}

.mud-input-underline:before {
    border-bottom-color: var(--chronicis-primary);
}

.mud-input-underline:after {
    border-bottom-color: var(--chronicis-primary);
}

.mud-input-label,
.mud-input-label-inputcontrol {
    color: var(--chronicis-primary);
}

/* Tree View */
.mud-treeview {
    color: var(--chronicis-text-on-dark);
}

.mud-treeview-item {
    transition: all var(--chronicis-transition-fast);
    border-radius: var(--chronicis-radius-md);
    padding: var(--chronicis-space-xs) var(--chronicis-space-sm);
    margin: 2px 0;
}

.mud-treeview-item:hover {
    background-color: rgba(196, 175, 142, 0.1);
    box-shadow: var(--chronicis-glow-secondary);
}

.mud-treeview-item-selected {
    background-color: rgba(196, 175, 142, 0.15) !important;
    color: var(--chronicis-secondary) !important;
}

.mud-treeview-item-content {
    color: var(--chronicis-text-on-dark);
}

/* Icons - context-dependent coloring */
/* In drawer/dark areas: secondary (gold) icons for visibility */
.mud-drawer .mud-icon-root {
    color: var(--chronicis-secondary-muted);
}

.mud-drawer .mud-icon-button:hover .mud-icon-root {
    color: var(--chronicis-secondary);
}

/* In appbar: inherit from appbar text color */
.mud-appbar .mud-icon-root {
    color: inherit;
}

/* Snackbar / Toast */
.mud-snackbar {
    border-radius: var(--chronicis-radius-lg);
    box-shadow: var(--chronicis-shadow-lg);
}

.mud-snackbar.mud-snackbar-success {
    background-color: var(--chronicis-success);
}

.mud-snackbar.mud-snackbar-error {
    background-color: var(--chronicis-error);
}

.mud-snackbar.mud-snackbar-warning {
    background-color: var(--chronicis-warning);
}

.mud-snackbar.mud-snackbar-info {
    background-color: var(--chronicis-info);
}

/* Dialog */
.mud-dialog {
    background-color: var(--chronicis-background-light);
    border-radius: var(--chronicis-radius-xl);
}

.mud-dialog-title {
    font-family: var(--chronicis-font-heading);
    color: var(--chronicis-text-primary);
    font-size: 1.5rem;
    font-weight: 500;
}

/* Menu */
.mud-menu {
    background-color: var(--chronicis-background-dark);
    border-radius: var(--chronicis-radius-lg);
    box-shadow: var(--chronicis-shadow-lg);
}

.mud-menu-item {
    color: var(--chronicis-text-on-dark);
    transition: all var(--chronicis-transition-fast);
}

.mud-menu-item:hover {
    background-color: rgba(196, 175, 142, 0.1);
    color: var(--chronicis-secondary);
}

/* Breadcrumbs */
.mud-breadcrumbs {
    color: var(--chronicis-primary);
}

    .mud-breadcrumbs .mud-disabled a {
        color: var(--chronicis-primary) !important;
        cursor: pointer !important;
    }

.mud-breadcrumb-item a {
    color: var(--chronicis-primary) !important;
}

.mud-breadcrumb-item:hover {
    color: var(--chronicis-secondary);
}

.mud-breadcrumb-separator {
    color: var(--chronicis-secondary-muted);
}

/* Nav Menu */
.mud-navmenu {
    padding: 0 !important;
}

.mud-secondary-text { 
    color: var(--chronicis-error) !important; 
}

.fa-solid {
    min-width: 20px;
    text-align: center;
}

/* ============================================
   Chronicis Component Classes
   ============================================ */

/* Logo */
.chronicis-logo {
    width: 32px;
    height: 32px;
    margin-right: var(--chronicis-space-md);
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
}

/* Title - uses secondary (gold) for brand identity on dark background */
.chronicis-title {
    font-family: var(--chronicis-font-heading);
    font-size: 1.5rem;
    font-weight: 500;
    color: var(--chronicis-secondary);
    letter-spacing: 0.5px;
    text-transform: uppercase;
}

.chronicis-title::first-letter {
    font-size: 1.4em;
}

/* Navigation children indent */
.chronicis-nav-children {
    margin-left: 13px;
}

.chronicis-nav-children span {
    font-size: 0.8rem;
}

/* Search Box in Drawer */
.chronicis-search-box {
    padding: var(--chronicis-space-md);
    background-color: rgba(0, 0, 0, 0.2);
    border-bottom: 1px solid var(--chronicis-primary);
}

.chronicis-search-box .mud-input-root {
    background-color: rgba(255, 255, 255, 0.05);
}

.chronicis-search-box .mud-input-slot {
    background-color: rgba(243, 240, 235, 0.8) !important;
    margin: 8px !important;
}

.chronicis-search-box .mud-input-adornment-end {
    margin-left: 0px;
}

.chronicis-search-box .mb-2 {
    margin-bottom: 0px !important;
}

/* Global search input */
.global-search-input .mud-input-slot {
    background-color: rgba(243, 240, 235, 0.8) !important;
    padding-left: 8px !important;
    margin: 8px !important;
}

/* Article Card */
.chronicis-article-card {
    background-color: var(--chronicis-background-light);
    border-radius: var(--chronicis-radius-lg);
    padding: var(--chronicis-space-xl);
    box-shadow: var(--chronicis-shadow-sm);
    transition: all var(--chronicis-transition-normal);
}

.chronicis-article-card:hover {
    box-shadow: var(--chronicis-shadow-md);
}

.chronicis-article-title {
    font-family: var(--chronicis-font-heading);
    font-size: 2rem;
    font-weight: 500;
    color: var(--chronicis-text-primary);
    margin-bottom: var(--chronicis-space-md);
}

.chronicis-article-meta {
    color: var(--chronicis-primary);
    font-size: 0.875rem;
    margin-bottom: var(--chronicis-space-lg);
}

.chronicis-article-body {
    color: var(--chronicis-text-primary);
    line-height: 1.7;
    font-size: 1rem;
}

/* Empty States */
.chronicis-empty-state {
    text-align: center;
    padding: var(--chronicis-space-xl);
    color: var(--chronicis-primary);
}

.chronicis-empty-state-icon {
    font-size: 4rem;
    opacity: 0.3;
    margin-bottom: var(--chronicis-space-md);
}

.chronicis-empty-state-title {
    font-family: var(--chronicis-font-heading);
    font-size: 1.5rem;
    color: var(--chronicis-primary);
    margin-bottom: var(--chronicis-space-sm);
}

.chronicis-empty-state-message {
    color: var(--chronicis-primary);
    opacity: 0.7;
}

/* Loading Skeleton */
.chronicis-loading-skeleton {
    background: linear-gradient(
        90deg,
        rgba(196, 175, 142, 0.1) 25%,
        rgba(196, 175, 142, 0.2) 50%,
        rgba(196, 175, 142, 0.1) 75%
    );
    background-size: 200% 100%;
    animation: chronicis-shimmer 1.5s infinite;
    border-radius: var(--chronicis-radius-sm);
}

/* Save Status Indicator */
.chronicis-save-status {
    display: inline-flex;
    align-items: center;
    gap: var(--chronicis-space-xs);
    padding: var(--chronicis-space-xs) var(--chronicis-space-sm);
    border-radius: var(--chronicis-radius-sm);
    font-size: 0.875rem;
    transition: all var(--chronicis-transition-fast);
}

.chronicis-save-status.saving {
    background-color: rgba(255, 167, 38, 0.1);
    color: var(--chronicis-warning);
}

.chronicis-save-status.saved {
    background-color: rgba(76, 175, 80, 0.1);
    color: var(--chronicis-success);
}

.chronicis-save-status.unsaved {
    background-color: rgba(239, 83, 80, 0.1);
    color: var(--chronicis-error);
}

/* Hover Glow Effect */
.chronicis-glow-hover {
    transition: all var(--chronicis-transition-fast);
}

.chronicis-glow-hover:hover {
    box-shadow: var(--chronicis-glow-secondary);
}

/* Rune Divider - uses secondary (gold) for decorative accent */
.chronicis-rune-divider {
    width: 100%;
    height: 1px;
    background: linear-gradient(
        90deg,
        transparent,
        var(--chronicis-secondary),
        transparent
    );
    margin: var(--chronicis-space-lg) 0;
    position: relative;
}

.chronicis-rune-divider::before,
.chronicis-rune-divider::after {
    content: 'â—†';
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    color: var(--chronicis-secondary);
    font-size: 0.75rem;
}

.chronicis-rune-divider::before {
    left: 0;
}

.chronicis-rune-divider::after {
    right: 0;
}

/* ============================================
   List Item Styles
   ============================================ */

/* Clickable list item with hover effect - uses secondary for accent */
.chronicis-list-item {
    border: 1px solid rgba(196, 175, 142, 0.2);
    border-radius: var(--chronicis-radius-sm);
    margin-bottom: var(--chronicis-space-sm);
    transition: all var(--chronicis-transition-fast);
}

.chronicis-list-item:hover {
    background-color: rgba(196, 175, 142, 0.1);
    border-color: var(--chronicis-secondary);
}

/* ============================================
   Responsive Adjustments
   ============================================ */

@media (max-width: 960px) {
    .chronicis-title {
        font-size: 1.25rem;
    }

    .chronicis-article-title {
        font-size: 1.75rem;
    }
}

/* ============================================
   Article Detail Component
   ============================================ */

.article-detail-container {
    padding: 24px;
    max-width: 900px;
    margin: 0 auto;
}

.article-title-input {
    width: 100%;
}

.article-title-input .mud-input-root {
    border: none;
    padding: 0;
}

.article-title-input .mud-input-root:hover {
    background-color: rgba(196, 175, 142, 0.05);
}

.article-title-input .mud-input-root:focus-within {
    background-color: rgba(196, 175, 142, 0.1);
}

.article-body-input {
    width: 100%;
}

.article-body-input .mud-input-root {
    font-family: inherit;
    font-size: 1rem;
    line-height: 1.6;
}

.save-status {
    font-style: italic;
    transition: color 0.3s ease;
}

/* ============================================
   World Campaign Selector Component
   ============================================ */

.world-campaign-selector {
    padding: 8px 16px 16px 16px;
    border-bottom: 1px solid var(--mud-palette-lines-default);
}

.selector-row {
    display: flex;
    align-items: center;
    gap: 4px;
    margin-bottom: 8px;
}

.selector-row:last-child {
    margin-bottom: 0;
}

.selector-dropdown {
    flex: 1;
}

.selector-item {
    display: flex;
    align-items: center;
    gap: 8px;
}

.selector-icon {
    font-size: 1rem;
}

.world-campaign-selector .mud-input-outlined {
    background-color: rgba(196, 175, 142, 0.05);
}

.world-campaign-selector .mud-input-outlined:hover {
    background-color: rgba(196, 175, 142, 0.1);
}

.world-campaign-selector .mud-select-input {
    font-size: 0.875rem;
}

/* ============================================
   Search Box Component
   ============================================ */

.search-box {
    padding: 12px;
    background-color: var(--mud-palette-background-grey);
    border-bottom: 1px solid var(--mud-palette-divider);
}

.search-input {
    width: 100%;
    background-color: #f3f0eb;
}

.search-box .mud-input-root {
    background-color: var(--mud-palette-surface);
}

.search-box .mud-input-root:hover {
    background-color: var(--mud-palette-surface);
}
